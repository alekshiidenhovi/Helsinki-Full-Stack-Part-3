{"version":3,"sources":["components/Filter.js","components/Person.js","components/Message.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","updateFilter","value","onChange","Person","person","removeName","name","number","onClick","id","Message","type","message","className","baseUrl","getData","request","then","response","data","functions","get","axios","create","newObject","post","update","put","remove","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","messageType","setMessageType","setMessage","useEffect","personService","input","sendMessage","setTimeout","find","window","confirm","catch","error","deletedPerson","event","target","onSubmit","preventDefault","nameObject","some","oldPerson","returnedPerson","map","concat","toLowerCase","startsWith","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ef6c7713.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Filter = ({ filter, updateFilter }) => {\n  return (\n    <div>\n      filter shown with <input value={filter} onChange={updateFilter} />\n    </div>\n  )\n}\n\nexport default Filter","import React from \"react\"\n\nconst Person = ({ person, removeName }) => {\n  return (\n    <div>\n      <p>{person.name} {person.number}</p>\n      <button onClick={() => removeName(person.id)}>delete</button>\n    </div>\n  )\n}\n\nexport default Person","import React from \"react\"\n\nconst Message = ({ type, message }) => {\n  if (type === null) {\n    return null\n  } else if (type === \"success\") {\n    return (\n      <div className=\"message success\">{message}</div>\n    )\n  } else {\n    return (\n      <div className=\"message failure\">{message}</div>\n    )\n  } \n}\n\nexport default Message","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getData = request => {\n  return request.then(response => response.data)\n}\n\nconst get = () => {\n  const request = axios.get(baseUrl)\n  return getData(request)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return getData(request)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return getData(request)\n}\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\n\nconst functions = { get, create, update, remove }\nexport default functions","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter\"\nimport Person from \"./components/Person\"\nimport Message from \"./components/Message\"\nimport personService from \"./services/persons\"\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ messageType, setMessageType ] = useState(null)\n  const [ message, setMessage ] = useState('')\n\n  useEffect(() => {\n    personService\n    .get()\n    .then(setPersons)\n  }, [])\n\n  const sendMessage = (type, message) => {\n    if (type === null) {\n      return \n    } else {\n      setMessageType(type)\n      setMessage(message)\n      setTimeout(() => setMessageType(null), 5000)\n    }\n  }\n\n  const addName = event => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        // Update name\n        const oldPerson = persons.find(person => person.name === newName)\n        personService\n        .update(oldPerson.id, nameObject)\n        .then(returnedPerson => {\n          sendMessage('success', `Replaced ${oldPerson.name} with ${newName}`)\n          setPersons(persons.map(person => person.name === newName ? returnedPerson : person))\n        })\n        .catch(error => {\n          sendMessage('failure', error.response.data.error)\n        })\n      }\n    } else {\n      // Create a new name\n      personService\n      .create(nameObject)\n      .then(returnedPerson => {\n        sendMessage('success', `Added ${returnedPerson.name}`)\n        setPersons(persons.concat(returnedPerson))\n      })\n      .catch(error => sendMessage('failure', error.response.data.error))\n    }\n    // Reset name and number fields\n    setNewName(\"\")\n    setNewNumber(\"\")\n  }\n\n  const removeName = id => {\n    const person = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n      .remove(id)\n      .then(() => {\n        sendMessage('success', `Removed ${person.name}`)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n      .catch(error => {\n        sendMessage('failure', `Information of ${newName} has already been removed from the server`)\n        setPersons(persons.filter(deletedPerson => person.name !== deletedPerson.name))\n      })\n    }\n  }\n\n  const personsToShow = input => persons.filter(person => person.name.toLowerCase().startsWith(input.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Message type={messageType} message={message} />\n      <Filter filter={newFilter} updateFilter={(event) => setNewFilter(event.target.value)} />\n      <h2>Add a new</h2>\n      <form onSubmit={addName}>\n        <div>name: <input value={newName} onChange={(event) => setNewName(event.target.value)}/></div>\n        <div>number: <input value={newNumber} onChange={(event) => setNewNumber(event.target.value)} /></div>\n        <div><button type=\"submit\">add</button></div>\n      </form>\n      <h2>Numbers</h2>\n      {personsToShow(newFilter).map(person => <Person key={person.id} person={person} removeName={removeName} />)}\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}